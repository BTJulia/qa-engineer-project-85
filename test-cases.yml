---
- summary: |
    Проверка успешной регистрации
  requirement: |
    При валидном вводе значений в поля формы регистрации осуществляется регистрация пользователя
  prerequisites: |
    Открыта страница регистрации https://codebattle.hexlet.io/users/new?locale=en&next=%2F
  test-data: |
    empty
  steps:
    - Ввести "Nickname"
    - Ввести "Email"
    - Ввести "Password"
    - Ввести "Password Confirmation"
    - Нажать кнопку "Submit"
  expected-result: |
    Пользователь успешно зарегистрирован

- summary: |
    Проверка успешной авторизации через Github
  requirement: |
    При регистрации с помощью Github осуществляется вход в систему под своим аккаунтом Githab
  prerequisites: |
    Пользователь авторизован на Githab https://github.com/
    Открыта страница регистрации https://codebattle.hexlet.io/users/new?locale=en&next=%2F
  test-data: |
    empty
  steps:
    - Нажать кнопку "Sign in with Github"
    - Нажать кнопку "Авторизовать"
  expected-result: |
    Пользователь успешно авторизован

- summary: |
    Проверка авторизации через Discord
  requirement: |
    При регистрации с помощью Discord осуществляется вход в систему под своим аккаунтом Discord
  prerequisites: |
    Пользователь авторизован на Discord https://discord.com/channels/@me
    Открыта страница регистрации https://codebattle.hexlet.io/users/new?locale=en&next=%2F
  test-data: |
    empty
  steps:
    - Нажать кнопку "Sign in with Discord"
    - Нажать кнопку "Авторизовать"
  expected-result: |
    Пользователь успешно авторизован

- summary: |
    Проверка авторизации зарегистрированного пользователя
  requirement: |
    При вводе в поля формы авторизации зарегистрированный email и password осуществляется вход в систему
  prerequisites: |
    Открыта страница авторизации https://codebattle.hexlet.io/session/new?locale=en&next=%2F
  test-data: |
    Email = admin@admin.admin; Password = admin1
  steps:
    - Ввести "Email"
    - Ввести "Password"
    - Нажать кнопку "Submit"
  expected-result: |
    Пользователь успешно авторизовался

- summary: |
    Проверка авторизации незарегистрированного пользователя
  requirement: |
    При вводе в поля формы авторизации значений незарегистрированного email и password не осуществляется вход в систему
  prerequisites: |
    Открыта страница авторизации https://codebattle.hexlet.io/session/new?locale=en&next=%2F
  test-data: |
    Email = adminadmin@adminadmin.admin; Password = adminadmin
  steps:
    - Ввести "Email"
    - Ввести "Password"
    - Нажать кнопку "Submit"
  expected-result: |
    Авторизация не выполнена

- summary: |
    Проверка восстановления пароля
  requirement: |
    При вводе зарегистрированного email пользователь может изменить пароль
  prerequisites: |
    Открыта страница авторизации https://codebattle.hexlet.io/session/new?locale=en&next=%2F
    Открыта личная почта пользователя
  test-data: |
    Email = admin@admin.admin
  steps:
    - Нажать кнопку «Forgot your password?"
    - Ввести "Email"
    - Нажать кнопку "Submit"
    - Перейти в личную почту пользователя
    - Перейти по ссылке
    - Ввести "New password"
    - Нажать кнопку "SAVE"
    - Вернуться на страницу авторизации https://codebattle.hexlet.io/session/new?locale=en&next=%2F
    - Ввести "Email"
    - Ввести измененный "Password"
    - Нажать кнопку "Submit"
  expected-result: |
    Пароль изменен, успешно осуществляется авторизация с новым паролем

- summary: |
    Корректное функционирование чата "lobby" в параметре "General"
  requirement: |
    Пользователь должен иметь возможность отправлять сообщения в чат "lobby"
  prerequisites: |
    Пользователь находится на странице https://codebattle.hexlet.io/#lobby
  test-data: |
    Empty
  steps:
    - Проскроллить до конца страницы
    - Найти чата "lobby" в параметре "General"
    - Ввести сообщение Hi! в поле чата
    - Нажать на кнопку "Send"
  expected-result: |
    Сообщение пользователя Hi! отображается в чате "lobby"

- summary: |
    Проверка возможности начать новую игру с ботом
  requirement: |
    Возможность пользователя начать новую игру с ботом
  prerequisites: |
    Пользователь находится на странице https://codebattle.hexlet.io/#lobby
  test-data: |
    Empty
  steps:
    - Нажать на кнопку "Create a battle"
    - В открывшемся окне выбрать параметры "Level", "Time control" и "Choose task by name or tags" по умолчанию
    - Нажать на кнопку "With a bot" в параметре "Game Type"
    - Нажать на кнопку "Create battle"
  expected-result: |
    Пользователь начинает новую игру с ботом

- summary: |
    Проверка возможности начать новую игру с другим пользователем
  requirement: |
    Возможность пользователя начать новую игру с другим пользователем
  prerequisites: |
    Пользователь находится на странице https://codebattle.hexlet.io/#lobby
  test-data: |
    Empty
  steps:
    - Нажать на кнопку "Create a battle"
    - В открывшемся окне выбрать параметры "Level", "Time control" и "Choose task by name or tags" по умолчанию
    - Нажать на кнопку "With other user" в параметре "Game Type"
    - Нажать на кнопку "Create battle"
    - После перехода на следующую страницу нажать на кнопку "Continue"
    - После перехода на следующую страницу ожидать отклика оппонента на приглашение в течение 30 минут либо отправить ссылку с приглашением на игру
  expected-result: |
    Пользователь начинает новую игру с другим пользователем после отклика на приглашение в течение 30 минут

- summary: |
    Проверка возможности начать новую игру с другом
  requirement: |
    Возможность пользователя начать новую игру с другом
  prerequisites: |
    Пользователь находится на странице https://codebattle.hexlet.io/#lobby
  test-data: |
    Empty
  steps:
    - Нажать на кнопку "Create a battle"
    - В открывшемся окне выбрать параметры "Level", "Time control" и "Choose task by name or tags" по умолчанию
    - Нажать на кнопку "With a friend" в параметре "Game Type"
    - Под открывшемся параметром "Choose opponent" нажать на поле фильтра 
    - Выбрать оппонента из предлагаемого списка друзей
    - Нажать на кнопку "Create invite"
    - Ожидать отклика на приглашение от выбранного друга
  expected-result: |
    Пользователь начинает новую игру с оппонентом из списка друзей после отклика на приглашение в течение 30 минут

- summary: |
    Проверка отмены приглашения друга в новую игру
  requirement: |
    Возможность пользователя отменить ранее отправленное приглашение друга в новую игру
  prerequisites: |
    Пользователь находится на странице https://codebattle.hexlet.io/#lobby
  test-data: |
    Empty
  steps:
    - Нажать на кнопку "Create a battle"
    - В открывшемся окне выбрать параметры "Level", "Time control" и "Choose task by name or tags" по умолчанию
    - Нажать на кнопку "With a friend" в параметре "Game Type"
    - Под открывшемся параметром "Choose opponent" нажать на поле фильтра
    - Выбрать оппонента из предлагаемого списка друзей
    - Нажать на кнопку "Create invite"
    - Нажать на кнопку с двумя мечами ("Invites")
    - Нажать на кнопку "Cancel" из открывающегося окна
  expected-result: |
    Пользователь отменяет ранее отправленное приглашение друга в новую игру

- summary: |
    Проверка успешного принятия приглашения к новой игре от другого пользователя
  requirement: |
    Возможность пользователя начать новую игру по приглашению от другого пользователя
  prerequisites: |
    Пользователь находится на странице https://codebattle.hexlet.io/#lobby
  test-data: |
    Empty
  steps:
    - Получить приглашение от другого пользователя
    - Нажать на кнопку с двумя мечами ("Invites")
    - Нажать на кнопку "Accept" из открывающегося окна
  expected-result: |
    Пользователь принимает приглашение от другого пользователя начать новую игру

- summary: |
    Проверка успешного отказа от приглашения к новой игре от другого пользователя
  requirement: |
    Возможность пользователя отказаться от приглашения начать новую игру от другого пользователя
  prerequisites: |
    Пользователь находится на странице https://codebattle.hexlet.io/#lobby
  test-data: |
    Empty
  steps:
    - Получить приглашение от другого пользователя
    - Нажать на кнопку с двумя мечами ("Invites")
    - Нажать на кнопку "Decline" из открывающегося окна
  expected-result: |
    При нажатии на кнопку Decline пользователь отказывается от приглашения начать новую игру от другого пользователя 

- summary: |
    Проверка действия приглашения к новой игре от другого пользователя в течение определённого времени
  requirement: |
    Приглашение начать новую игру от другого пользователя должно действовать определённое время
  prerequisites: |
    Пользователь находится на странице https://codebattle.hexlet.io/#lobby
  test-data: |
    Empty
  steps:
    - Получить приглашение от другого пользователя
    - Игнорировать приглашение
  expected-result: |
    При игнорировании приглашение к новой игре от другого пользователя исчезает через 30 минут
